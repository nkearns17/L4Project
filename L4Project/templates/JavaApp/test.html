<HTML>

{% extends 'JavaApp/base-bootstrap.html' %}

{% block topbar %}
<h1><center> Fill in the Blanks </center></h1>
{% endblock %}

{% block content %}

 
<div id="wordList">
{% for javaWord in javaWords %}
<label> {{javaWord}} </label>
{% endfor %}
</div>
<label id="listSize">{{listLength}}</label>

<!-- Getting list of JavaWords, split by spaces-->
<!-- <script>
var test = document.getElementById("wordList").textContent;
var test2 = test.split(" ");
document.write(test2 + '<br>');


var javaWordList = [];
for (var i = 0; i < test2.length; i++){
	javaWordList.push(test2[i]);
}
document.write("LIST: " + javaWordList);
</script> -->
<br>

{% for question in questions %}

<label id="{{question.id}}statement">{{question|linebreaks}}</label><br>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

<script>

var labelText = $("#{{question.id}}statement").text();
document.write(labelText+'<br>');

var javaWordList = document.getElementById("wordList").textContent;
var javaWordList2 = javaWordList.split(" ");
var listSize = document.getElementById("listSize").textContent;
document.write("SIZE: " + listSize + "<br>");
document.write("JavaWordList2: " + javaWordList2 + "<br>");

var keyword = Math.floor((Math.random()*listSize));
document.write("keyword" + keyword + "<br>");

var result;

for (var i = 0; i < listSize; i++){
	if (labelText[keyword].indexOf(javaWordList2))
		result = "true";
	else
		result = "false";
}
document.write("result: " + result);


var space = labelText.replace(keyword,"__________");
document.getElementById("{{question.id}}statement").innerHTML=space;

//var questionArray = labelText.split(" ");
//document.write(questionArray+'<br>');

//for (var j=0; j<questionArray.length; j++){
//	document.write("hello ");
//}

</script>

{% endfor %}


<!--
<center>
<script>
var text=["System.","out.","println","dog","(hello world);"];

var words = ["out.", "System.", "println","class","void","static"];

var match = [];

var j = 0;
for (var i =0; i < text.length; i++)
    for (j = 0; j < words.length; j++)
        if (text[i] == words[j])
            match.push(words[j]);            

for (var s = 0; s < match.length; s++)
    document.write(match[s] + "<br>");

var keyword = Math.floor((Math.random()*match.length)); text[keyword] = "_____"; // replace for other word

document.write("<p>" + text + " " + "</p>" );
document.write("<br>" + words);
</script>

<form>
Answer: <input type="text" name="answer" id="answerbox"><br>
<input type="button" value="Submit" onclick="printout()"()>
</form>

<script>

var textbox = document.getElementById('answerbox');

function printout(){
	var answer = textbox.value;
	if (answer == match[keyword]){
		alert("correct");
	}
	else{
		alert("incorrect");
	}
}

</script>
</center> -->

{% endblock %}

<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="../../dist/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="{{STATIC_URL}}bootstrap/css/bootstrap.min.css">
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<script src="http://code.jquery.com/jquery.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}bootstrap/js/bootstrap.min.js"></script>
</HTML>
